/*
 * FunctionDialog.java
 *
 * Created on February 22, 2007, 12:12 PM
 */

package edu.uconn.psy.jtrace.UI;
import edu.uconn.psy.jtrace.Model.Dynamics.LinearParameterFunction;
import edu.uconn.psy.jtrace.Model.Dynamics.TraceFunction;
import javax.swing.*;

/**
 *
 * @author  tedstrauss
 */
public class FunctionDialog extends javax.swing.JFrame {
    
    /** Creates new form FunctionDialog */
    public FunctionDialog() {
        initComponents();
        initComponentsCustom();
        setSize(300,320);
        setLocation(300,300);
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc=" Generated Code ">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jSpinner1 = new javax.swing.JSpinner();
        jLabel4 = new javax.swing.JLabel();
        jSpinner2 = new javax.swing.JSpinner();
        jLabel5 = new javax.swing.JLabel();
        jSpinner3 = new javax.swing.JSpinner();
        jLabel6 = new javax.swing.JLabel();
        jSpinner4 = new javax.swing.JSpinner();
        jLabel7 = new javax.swing.JLabel();
        jSpinner5 = new javax.swing.JSpinner();
        jSeparator1 = new javax.swing.JSeparator();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();

        getContentPane().setLayout(new java.awt.GridBagLayout());

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Parameter Function Editor");
        setBackground(new java.awt.Color(255, 255, 153));
        setFont(new java.awt.Font("Verdana", 0, 12));
        setName("functionDialog");
        setResizable(false);
        jLabel1.setText("Editing ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.insets = new java.awt.Insets(10, 10, 10, 10);
        getContentPane().add(jLabel1, gridBagConstraints);

        jLabel2.setText(" ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        getContentPane().add(jLabel2, gridBagConstraints);

        jLabel3.setText("Initial parameter value ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        getContentPane().add(jLabel3, gridBagConstraints);

        jSpinner1.setAutoscrolls(true);
        jSpinner1.setPreferredSize(new java.awt.Dimension(55, 24));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        getContentPane().add(jSpinner1, gridBagConstraints);

        jLabel4.setText("Starting at cycle ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        getContentPane().add(jLabel4, gridBagConstraints);

        jSpinner2.setAutoscrolls(true);
        jSpinner2.setPreferredSize(new java.awt.Dimension(55, 24));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        getContentPane().add(jSpinner2, gridBagConstraints);

        jLabel5.setText("Ramp from   ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        getContentPane().add(jLabel5, gridBagConstraints);

        jSpinner3.setAutoscrolls(true);
        jSpinner3.setPreferredSize(new java.awt.Dimension(55, 24));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        getContentPane().add(jSpinner3, gridBagConstraints);

        jLabel6.setText("Ramp to  ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        getContentPane().add(jLabel6, gridBagConstraints);

        jSpinner4.setAutoscrolls(true);
        jSpinner4.setPreferredSize(new java.awt.Dimension(55, 24));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        getContentPane().add(jSpinner4, gridBagConstraints);

        jLabel7.setText("Over this many cycles ");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        getContentPane().add(jLabel7, gridBagConstraints);

        jSpinner5.setAutoscrolls(true);
        jSpinner5.setPreferredSize(new java.awt.Dimension(55, 24));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        getContentPane().add(jSpinner5, gridBagConstraints);

        jSeparator1.setPreferredSize(new java.awt.Dimension(60, 10));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.gridwidth = java.awt.GridBagConstraints.REMAINDER;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.ipadx = 2;
        gridBagConstraints.ipady = 2;
        gridBagConstraints.insets = new java.awt.Insets(4, 19, 4, 19);
        getContentPane().add(jSeparator1, gridBagConstraints);

        jButton1.setText("Done");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        getContentPane().add(jButton1, gridBagConstraints);

        jButton2.setText("Cancel");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        getContentPane().add(jButton2, gridBagConstraints);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
// TODO add your handling code here:
    }//GEN-LAST:event_jButton2ActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
// TODO add your handling code here:
    }//GEN-LAST:event_jButton1ActionPerformed
    
    
    // custom code -tjs
    public void initComponentsCustom(){
        SpinnerNumberModel spinModel1 = new SpinnerNumberModel(0.00, -2.0, 2.0, 0.01); 
        SpinnerNumberModel spinModel2 = new SpinnerNumberModel(10, 0, 200, 1); 
        SpinnerNumberModel spinModel3 = new SpinnerNumberModel(0.00, -2.0, 2.0, 0.01); 
        SpinnerNumberModel spinModel4 = new SpinnerNumberModel(0.05, -2.0, 2.0, 0.01); 
        SpinnerNumberModel spinModel5 = new SpinnerNumberModel(30, 0, 200, 1); 
        jSpinner1.setModel(spinModel1);
        jSpinner2.setModel(spinModel2);
        jSpinner3.setModel(spinModel3);
        jSpinner4.setModel(spinModel4);
        jSpinner5.setModel(spinModel5);
    }
    // set curr parameter name
    public void setParamName(String name){
        jLabel1.setText(new String("Editing "+name+" function"));
    }
    
    // set initial spinner values
    public void setSpinners(double init, double from, double to, int startingAt, int duration){
        jSpinner1.setValue(new Double(init));
        jSpinner2.setValue(new Integer(startingAt));
        jSpinner3.setValue(new Double(from));
        jSpinner4.setValue(new Double(to));
        jSpinner5.setValue(new Integer(duration));
    }
    
    // get function specification
    public TraceFunction getFunctionSpecification(int idx){
        //double _init, double _from, double _to, int _startCycle, int _durCycle, int _paramIndex                
        LinearParameterFunction lpf = new LinearParameterFunction(
                ((SpinnerNumberModel)jSpinner1.getModel()).getNumber().doubleValue(),
                ((SpinnerNumberModel)jSpinner3.getModel()).getNumber().doubleValue(),
                ((SpinnerNumberModel)jSpinner4.getModel()).getNumber().doubleValue(),
                ((SpinnerNumberModel)jSpinner2.getModel()).getNumber().intValue(),
                ((SpinnerNumberModel)jSpinner5.getModel()).getNumber().intValue(),
                idx);
        return lpf;
    }
    public JButton getDoneButton(){
        return jButton1;
    }
    public JButton getCancelButton(){
        return jButton2;
    }
    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new FunctionDialog().setVisible(true);
            }
        });
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JSpinner jSpinner1;
    private javax.swing.JSpinner jSpinner2;
    private javax.swing.JSpinner jSpinner3;
    private javax.swing.JSpinner jSpinner4;
    private javax.swing.JSpinner jSpinner5;
    // End of variables declaration//GEN-END:variables
    
}
